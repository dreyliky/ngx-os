<ul
    class="os-element tree-view"
    [ngStyle]="style"
    [class]="styleClass"
    [id]="id">

    <ng-container
        *ngTemplateOutlet="treeNodesTemplate; context:{ nodes: data }">
    </ng-container>

</ul>

<ng-template
    #treeNodesTemplate
    let-nodes="nodes">
    <li
        *ngFor="let node of nodes"
        class="os-element">
        <ng-template [ngIf]="node.children">
            <details class="os-element">
                <summary class="os-element">
                    {{ node.label }}
                </summary>

                <ul class="os-element">
                    <ng-container
                        *ngTemplateOutlet="treeNodesTemplate; context:{ nodes: node.children }">
                    </ng-container>
                </ul>
            </details>
        </ng-template>

        <ng-template [ngIf]="!node.children">
            {{ node.label }}
        </ng-template>
    </li>
</ng-template>